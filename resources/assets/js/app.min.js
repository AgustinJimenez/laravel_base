function App(config={},debug=!1,template_container_id="#template-content-container",template_refresh_button_id="#template-refresh-button",template_back_button_id="#template-back-button"){let app=this;$.fn.dataTable.ext.errMode="none",app.config=config,app.debug=debug,app.response=null,app.datatables_list=[],app.template_content_container=$(template_container_id),app.buttons={refresh:$(template_refresh_button_id),back:$(template_back_button_id)},app.visited_urls=[],app.params={},app.refresh_datatables=(()=>app.datatables_list.forEach(table=>table.draw())),app.visited_urls.get_last_url_visited=(()=>app.visited_urls.slice(-1)[0]),app.buttons.refresh.show_reload_animation=(()=>app.buttons.refresh.children("i").addClass("fa-spin")),app.buttons.refresh.stop_reload_animation=(()=>app.buttons.refresh.children("i").removeClass("fa-spin")),app.visited_urls.has_urls=(()=>app.visited_urls.length>1),app.visited_urls.add_visited_url=(url=>{url!==app.visited_urls.get_last_url_visited()&&(app.visited_urls.push(url),app.debug&&console.log("ADDING URL=("+url+") TO VISITED-URLS-LIST===>",app.visited_urls))}),app.visited_urls.add_visited_url(window.location.href),app.alert=((message,type="red")=>$.alert({title:"AVISO",content:"<h4>"+message+"</h4>",type:type,backgroundDismiss:!0})),app.confirm=((content="",type="blue",accept_callback=(()=>{}),cancel_callback=(()=>{}),accept_text="OK",cancel_text="CERRAR",accept_btn_class="btn-default",cancel_btn_class="btn-default",title="CONFIRMACIÃ“N")=>{app.debug&&console.log("provider_confirm(",content,type,accept_callback,cancel_callback,accept_text,cancel_text,accept_btn_class,cancel_btn_class,title),$.confirm({title:title,content:content,backgroundDismiss:!0,type:type,buttons:{accept:{text:accept_text,btnClass:accept_btn_class,action:accept_callback},cancel:{text:cancel_text,btnClass:cancel_btn_class,action:cancel_callback}}})}),app.response_error_handler=((type="default")=>{switch(type){case"default":let errors="";if(null!=app.response&&1==app.response.error&&null!=app.response.messages)if("string"==typeof app.response.messages)app.alert(app.response.messages);else if("object"==typeof app.response.messages){for(let key in app.response.messages)for(let message of app.response.messages[key])errors+="\n- "+message;app.alert(errors)}else null!=app.response&&null!=app.response.messages?app.alert(app.response.messages,"blue"):app.alert("Ocurrio un error inesperado.");break;default:app.alert("Ocurrio un error inesperado.")}}),app.http=((url=null,callback=null,params={},type="GET",headers={})=>{type=type.toUpperCase(),null!=app.config.csrf_token&&(headers["X-CSRF-TOKEN"]=app.config.csrf_token),"DELETE"!=type&&"PUT"!=type||(params._method=type,type="POST"),app.debug&&console.log("HTTP SENDING===>","type=",type,"headers=",headers,"url=",url,"params=",params,"callback=",callback),app.buttons.refresh.show_reload_animation(),$.ajax({type:type,headers:headers,url:url,data:params,success:(data,textStatus,jQxhr)=>{app.response=data,app.debug&&console.log("GETTING",app.response),app.response_error_handler(),"GET"==type&&app.visited_urls.add_visited_url(url),app.buttons.refresh.stop_reload_animation(),null!=callback?callback():app.actions.refresh_page()},error:(jqXhr,textStatus,errorThrown)=>{app.response=jqXhr.responseJSON,app.response_error_handler(),app.debug&&console.log("ERROR: jqXhr ===> ",jqXhr,"ERROR: textStatus ===> ",textStatus,"ERROR: errorThrown ===> ",errorThrown),app.buttons.refresh.stop_reload_animation()}})}),app.buttons.refresh.click(event=>app.http(app.visited_urls.get_last_url_visited(),app.actions.refresh_content)),app.buttons.back.click(event=>{app.visited_urls.pop(),app.http(app.visited_urls.get_last_url_visited(),app.actions.refresh_content)}),app.actions={delete_ajax:route=>app.confirm("Desea eliminar el registro?","red",()=>{app.http(route,null,{},"DELETE")}),refresh_content:()=>{app.template_content_container.stop().html(app.response),$("input[type=text]").each(function(){$(this).attr("autocomplete","off").attr("oninvalid","this.setCustomValidity('Por favor, completar el campo')").attr("oninput","setCustomValidity('')")}),$("input").iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue",increaseArea:"60%"})},refresh_page:()=>{let last_url=app.visited_urls.get_last_url_visited();null!=last_url&&app.http(last_url,app.actions.refresh_content)}},app.set_dynamic_content=(()=>{$(document).on("submit","form",function(event){if("template-form-logout"!=$(this).attr("id")){event.preventDefault(),app.params={};for(let field of $(this).serializeArray())app.params[field.name]=field.value;app.http($(this).attr("action"),app.actions.refresh_content,app.params,$(this).attr("method"))}}),document.onkeydown=((e=window.event)=>{116==e.keyCode&&(e.preventDefault(),app.actions.refresh_page())}),$(document).on("click","a[href!='#']",function(event){let clicked_link=$(this).attr("href");app.debug&&console.log("LINK CLICKED!!!",clicked_link),app.http(clicked_link,app.actions.refresh_content),event.preventDefault()})}),app.set_datatable=((source="",columns=[{data:"actions",name:"actions",orderable:!1,searchable:!1}],request_handler=(request=>{}),response_handler=(response=>response.data),selector=".data-table",order=[[0,"asc"]],default_datas_count=10,tool_bar="<'toolbar'><'row'<'col-xs-12'<'col-xs-6'l><'col-xs-6'p>>r><'row'<'col-xs-12't>><'row'<'col-xs-12'<'col-xs-6'i><'col-xs-6'p>>>")=>{let new_datatable=$(selector).DataTable({dom:tool_bar,deferRender:!0,processing:!0,serverSide:!0,order:order,paginate:!0,lengthChange:!0,iDisplayLength:default_datas_count,filter:!0,sort:!0,info:!0,autoWidth:!0,paginate:!0,initComplete:()=>{},ajax:{url:source,type:"GET",headers:{"X-CSRF-TOKEN":app.csrf_token},data:request_handler,dataSrc:response_handler},columns:columns,language:{processing:"Procesando...",search:"Buscar",lengthMenu:"Mostrar _MENU_ Elementos",info:"Mostrando de _START_ a _END_ registros de un total de _TOTAL_ registros",infoFiltered:".",infoPostFix:"",loadingRecords:"Cargando Registros...",zeroRecords:"No existen registros disponibles",emptyTable:"No existen registros disponibles",paginate:{first:"Primera",previous:"<i class='fa fa-chevron-left'></i>",next:"<i class='fa fa-chevron-right'></i>",last:"Ultima"}}});app.datatables_list.push(new_datatable)}),$("input").each(function(){$(this).attr("autocomplete","off")})}